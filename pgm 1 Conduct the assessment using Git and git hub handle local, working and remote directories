Menu.js

import React, { useEffect, useState } from "react";
import { Link, Navigate, useLocation, useNavigate } from "react-router-dom";


function Menu() {
 const [role, setRole] = useState();


 const location = useLocation();


 const navigate = useNavigate();


 useEffect(() => {
   let myrole = sessionStorage.getItem("role");
   setRole(myrole);
 }, [location.pathname]);


 const handleLogout = () => {
   sessionStorage.removeItem("role");
   navigate("/login");
 };


 return (
   <nav className="navbar navbar-expand-lg  bg-success">
     <div className="container-fluid">
       <Link className="navbar-brand text-white" href="#">
         K O E N I G
       </Link>
       <button
         className="navbar-toggler"
         type="button"
         data-bs-toggle="collapse"
         data-bs-target="#navbarNavAltMarkup"
         aria-controls="navbarNavAltMarkup"
         aria-expanded="false"
         aria-label="Toggle navigation"
       >
         <span className="navbar-toggler-icon"></span>
       </button>
       <div className="collapse navbar-collapse" id="navbarNavAltMarkup">
         <div className="navbar-nav">
           {role === "admin" || role === "guest" ? (
             <>
               <Link
                 className="nav-link active text-white"
                 aria-current="page"
                 to="/home"
               >
                 Home
               </Link>
               {role === "admin" && (
                 <>
                   <Link className="nav-link text-white" to="/about">
                     About
                   </Link>
                   <Link
                     className="nav-link active text-white"
                     aria-current="page"
                     to="/users"
                   >
                     Users
                   </Link>
                 </>
               )}
               <button
                 className="nav-link text-bg-danger"
                 onClick={handleLogout}
               >
                 Logout
               </button>
             </>
           ) : (
             <Link className="nav-link text-white" to="/login">
               Login
             </Link>
           )}
         </div>
       </div>
     </div>
   </nav>
 );
}


export default Menu;



App.js

import React, { useEffect, useState } from "react";
import { Link, Navigate, useLocation, useNavigate } from "react-router-dom";


function Menu() {
 const [role, setRole] = useState();


 const location = useLocation();


 const navigate = useNavigate();


 useEffect(() => {
   let myrole = sessionStorage.getItem("role");
   setRole(myrole);
 }, [location.pathname]);


 const handleLogout = () => {
   sessionStorage.removeItem("role");
   navigate("/login");
 };


 return (
   <nav className="navbar navbar-expand-lg  bg-success">
     <div className="container-fluid">
       <Link className="navbar-brand text-white" href="#">
         K O E N I G
       </Link>
       <button
         className="navbar-toggler"
         type="button"
         data-bs-toggle="collapse"
         data-bs-target="#navbarNavAltMarkup"
         aria-controls="navbarNavAltMarkup"
         aria-expanded="false"
         aria-label="Toggle navigation"
       >
         <span className="navbar-toggler-icon"></span>
       </button>
       <div className="collapse navbar-collapse" id="navbarNavAltMarkup">
         <div className="navbar-nav">
           {role === "admin" || role === "guest" ? (
             <>
               <Link
                 className="nav-link active text-white"
                 aria-current="page"
                 to="/home"
               >
                 Home
               </Link>
               {role === "admin" && (
                 <>
                   <Link className="nav-link text-white" to="/about">
                     About
                   </Link>
                   <Link
                     className="nav-link active text-white"
                     aria-current="page"
                     to="/users"
                   >
                     Users
                   </Link>
                 </>
               )}
               <button
                 className="nav-link text-bg-danger"
                 onClick={handleLogout}
               >
                 Logout
               </button>
             </>
           ) : (
             <Link className="nav-link text-white" to="/login">
               Login
             </Link>
           )}
         </div>
       </div>
     </div>
   </nav>
 );
}


export default Menu;



Users.js

import axios from "axios";
import React, { useEffect, useState } from "react";


const Users = () => {
 const [userDetails, setUserDetails] = useState();


 useEffect(() => {
   axios
     .get("https://jsonplaceholder.typicode.com/users")
     .then((res) => setUserDetails(res.data))
     .catch((error) => console.log(error));
 }, []);


 return (
   <div className="container">
     <table class="table">
       <thead>
         <tr>
           <th scope="col">id</th>
           <th scope="col">Name</th>
           <th scope="col">Username</th>
         </tr>
       </thead>
       <tbody>
         {userDetails ? (
           userDetails.map((user) => (
             <tr key={user.id}>
               <td>{user.id}</td>
               <td>{user.name}</td>
               <td>{user.username}</td>
             </tr>
           ))
         ) : (
           <tr>
               <td colSpan={3} className="text-center">
               <div class="spinner-border text-danger" role="status">
                   <span class="visually-hidden">Loading...</span>
                </div>
                </td>
           </tr>
         )}
       </tbody>
     </table>
   </div>
 );
};


export default Users;
